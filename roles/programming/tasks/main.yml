- block:
# name: Setting up packages for Debian

  - name: install common packages
    apt:
      name: "{{ packages }}"
      state: latest
    vars:
      packages:
      - man-db
      - git-doc
      - build-essential
      - manpages-dev
      - make-doc
#      - libstdc++-6-doc
#      - gcc-doc
#      - cpp-doc
#      - glibc-doc
      - gdb
      - gdb-doc

  - name: install emacs packages
    apt:
      name: "{{ packages }}"
      state: latest
    vars:
      packages:
      - lookup-el
      - migemo-el
      - elpa-magit
      - aspell
      - aspell-en
      - aspell-doc
      - global

  - name: install python3 packages
    apt:
      name: "{{ packages }}"
      state: latest
    vars:
      packages:
      - python3
      - python3-doc
      - flake8
      - pylama
      - yapf3

  - name: install machine learning packages
    apt:
      name: "{{ packages }}"
      state: latest
    vars:
      packages:
      - jupyter-notebook
      - python3-sklearn
      - python3-matplotlib
      - python-numpy-doc
      - python-scipy-doc
      - python-sklearn-doc
      - python-matplotlib-doc

  - name: install c++ packages
    apt:
      name: "{{ packages }}"
      state: latest
    vars:
      packages:
      - clang
      - clang-format
      - clang-tidy
      - iwyu
      - libboost-dev
      - libboost-doc

  - name: install performance analysis packages
    apt:
      name: "{{ packages }}"
      state: latest
    vars:
      packages:
      - linux-perf
    when:
      "ansible_kernel is not match('.*Microsoft$')"

  become: true
  when:
    - "ansible_distribution == 'Debian'"
